{% extends 'account/main.html' %}
{%block title%}
Charts
{%endblock title%}

{% block script%}
<script>
   $(document).ready(function(){

        getColor =()=>{
            r = getColorRange(0, 255)
            g = getColorRange(0, 255)
            b = getColorRange(0, 255)
            op = 0.8
            color = 'rgb(' + r + ',' + g + ',' + b + ',' + op + ')'
            return color
        }
        getColorRange=(min, max)=>{
            return Math.floor(Math.random() * (max-min)) + min
        }
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: [{%for item in qs%}'{{item.month_name}}',{%endfor%}],
                datasets: [{
                    label: 'Monthly Active User',
                    data: [{%for item in qs%}{{item.monthly_active_user}},{%endfor%}],
                    backgroundColor: [{%for item in qs%}getColor(),{%endfor%}],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });
   });








   $(document).ready(function(){

        getColor =()=>{
            r = getColorRange(0, 255)
            g = getColorRange(0, 255)
            b = getColorRange(0, 255)
            op = 0.8
            color = 'rgb(' + r + ',' + g + ',' + b + ',' + op + ')'
            return color
        }
        getColorRange=(min, max)=>{
            return Math.floor(Math.random() * (max-min)) + min
        }
        var ctx2 = document.getElementById('myChart2').getContext('2d');
        var myChart2 = new Chart(ctx2, {
            type: 'polarArea',
            data: {
                labels: [{%for item in qs%}'{{item.month_name}}',{%endfor%}],
                datasets: [{
                    label: 'Global Rank',
                    data: [{%for item in qs%}{{item.global_rank}},{%endfor%}],
                    backgroundColor: [{%for item in qs%}getColor(),{%endfor%}],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });
   });





   $(document).ready(function(){

        getColor =()=>{
            r = getColorRange(0, 255)
            g = getColorRange(0, 255)
            b = getColorRange(0, 255)
            op = 0.8
            color = 'rgb(' + r + ',' + g + ',' + b + ',' + op + ')'
            return color
        }
        getColorRange=(min, max)=>{
            return Math.floor(Math.random() * (max-min)) + min
        }
        var ctx3 = document.getElementById('myChart3').getContext('2d');
        var myChart3 = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: [{%for item in qs%}'{{item.month_name}}',{%endfor%}],
                datasets: [{
                    label: 'Social Media Traffic',
                    data: [{%for item in qs%}{{item.social_media_traffic}},{%endfor%}],
                    backgroundColor: [{%for item in qs%}getColor(),{%endfor%}],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });
   });





   $(document).ready(function(){

        getColor =()=>{
            r = getColorRange(0, 255)
            g = getColorRange(0, 255)
            b = getColorRange(0, 255)
            op = 0.8
            color = 'rgb(' + r + ',' + g + ',' + b + ',' + op + ')'
            return color
        }
        getColorRange=(min, max)=>{
            return Math.floor(Math.random() * (max-min)) + min
        }
        var ctx4 = document.getElementById('myChart4').getContext('2d');
        var myChart4 = new Chart(ctx4, {
            type: 'bar',
            data: {
                labels: [{%for item in qs%}'{{item.month_name}}',{%endfor%}],
                datasets: [{
                    label: 'Monthly Active User',
                    data: [{%for item in qs%}{{item.monthly_active_user}},{%endfor%}],
                    backgroundColor: [{%for item in qs%}getColor(),{%endfor%}],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });
   });

</script>
{% endblock script%}


{% block content %}
<div class="ui segment" style="text-align:center"><h1>{{object.title}}</h1>
</div><br>

<div class="row">
    <div class="col-md-6">
        <div class="ui segment" style="text-align:center"><h1>Monthly Active Users(Bar)</h1>
            <canvas id="myChart4"></canvas>
        </div>
    </div>
    <div class="col-md-6">
        <div class="ui segment" style="text-align:center"><h1>Monthly Active Users by Filters</h1>
            <canvas id="myChart"></canvas>
        </div>
    </div>
</div>

<br>


<div class="row">
    <div class="col-md-6">
        <div class="ui segment" style="text-align:center"><h1>Global Rank</h1>
            <canvas id="myChart2"></canvas>
        </div>
    </div>
    <div class="col-md-6">
        <div class="ui segment" style="text-align:center"><h1>Social Media Traffic</h1>
            <canvas id="myChart3"></canvas>
        </div>
    </div>
</div>
{% endblock content %}